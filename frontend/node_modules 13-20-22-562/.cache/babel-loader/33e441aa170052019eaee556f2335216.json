{"ast":null,"code":"var _jsxFileName = \"/Users/gilbertvirgo/chl-v2/frontend/src/pages/Podcast/index.js\",\n    _s = $RefreshSig$();\n\nimport { Route, Router, useNavigate } from \"react-router-dom\";\nimport ActivityIndicator from \"../../components/ActivityIndicator\";\nimport Button from \"../../components/Button\";\nimport Feature from \"../../components/Feature\";\nimport Lattice from \"../../components/Lattice\";\nimport { Paragraph } from \"../../components/Text\";\nimport React from \"react\";\nimport Section from \"../../components/Section\";\nimport Strapline from \"../../components/Strapline\";\nimport VideoSpotlight from \"../../components/VideoSpotlight\";\nimport ellipsize from \"ellipsize\";\nimport getEpisodes from \"../../api/getEpisodes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default _s(() => {\n  _s();\n\n  const navigate = useNavigate();\n  const [[firstEpisode, ...episodes], setEpisodes] = React.useState([]);\n  const [videoPreview, setVideoPreview] = React.useState(null);\n  React.useEffect(() => {\n    (async function () {\n      let episodes = await getEpisodes();\n      console.log({\n        episodes\n      });\n      setEpisodes(episodes.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate)));\n    })();\n  }, []);\n\n  const ytidToImage = ytid => `https://img.youtube.com/vi/${ytid}/hqdefault.jpg`;\n\n  const ytidToVideo = ytid => `https://www.youtube.com/embed/${ytid}`;\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ActivityIndicator, {\n      fullScreen: true,\n      active: !episodes.length,\n      children: \"Loading podcasts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), episodes.length && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/:ytid\",\n          render: _ref => {\n            let {\n              ytid\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(VideoSpotlight, {\n              src: ytid,\n              onClose: () => setVideoPreview(null)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 9\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        explode: true,\n        children: /*#__PURE__*/_jsxDEV(Feature, {\n          invert: true,\n          children: [/*#__PURE__*/_jsxDEV(Feature.Title, {\n            children: firstEpisode.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Feature.Image, {\n            src: require(\"../../assets/faces/marshall-large.jpg\")\n            /*ytidToImage(firstEpisode.ytid)*/\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Feature.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n              children: ellipsize(firstEpisode.desc, 120)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              icon: \"video\",\n              theme: \"grey\",\n              onClick: () => setVideoPreview(ytidToVideo(firstEpisode.ytid)),\n              children: \"Watch a highlight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        deflate: true,\n        children: [/*#__PURE__*/_jsxDEV(Strapline, {\n          children: \"On the Christian Heritage London podcast we meet Christian leaders who serve the church in the purpose, perspective and power of the gospel.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          dropdown: true,\n          center: true,\n          options: {\n            items: [{\n              value: \"Apple Podcasts\",\n              href: \"https://podcasts.apple.com/gb/podcast/christian-heritage-london-podcast/id1232042916\"\n            }, {\n              value: \"Spotify\",\n              href: \"https://podcasts.apple.com/gb/podcast/christian-heritage-london-podcast/id1232042916\"\n            }]\n          },\n          children: \"Subscribe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        explode: true,\n        children: /*#__PURE__*/_jsxDEV(Lattice, {\n          panels: episodes.map(_ref2 => {\n            let {\n              title,\n              ytid\n            } = _ref2;\n            return {\n              title,\n              button: {\n                text: \"Watch a highlight\",\n                icon: \"video\",\n                onClick: () => setVideoPreview(ytidToVideo(ytid))\n              },\n              image: [require(\"../../assets/faces/leithart.jpg\"), require(\"../../assets/faces/lucas.jpg\"), require(\"../../assets/faces/marshall.jpg\"), require(\"../../assets/faces/clark.jpg\")][Math.floor(Math.random() * 4)] //ytidToImage(ytid),\n\n            };\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n}, \"ttxdMY0GRZhMHvnRGwueQ6lli4A=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"sources":["/Users/gilbertvirgo/chl-v2/frontend/src/pages/Podcast/index.js"],"names":["Route","Router","useNavigate","ActivityIndicator","Button","Feature","Lattice","Paragraph","React","Section","Strapline","VideoSpotlight","ellipsize","getEpisodes","navigate","firstEpisode","episodes","setEpisodes","useState","videoPreview","setVideoPreview","useEffect","console","log","sort","a","b","Date","pubDate","ytidToImage","ytid","ytidToVideo","length","title","require","desc","items","value","href","map","button","text","icon","onClick","image","Math","floor","random"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,MAAhB,EAAwBC,WAAxB,QAA2C,kBAA3C;AAEA,OAAOC,iBAAP,MAA8B,oCAA9B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;;AAEA,kBAAe,MAAM;AAAA;;AACpB,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AAEA,QAAM,CAAC,CAACa,YAAD,EAAe,GAAGC,QAAlB,CAAD,EAA8BC,WAA9B,IAA6CT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAnD;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCZ,KAAK,CAACU,QAAN,CAAe,IAAf,CAAxC;AAEAV,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAM;AACrB,KAAC,kBAAkB;AAClB,UAAIL,QAAQ,GAAG,MAAMH,WAAW,EAAhC;AAEAS,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEP,QAAAA;AAAF,OAAZ;AAEAC,MAAAA,WAAW,CACVD,QAAQ,CAACQ,IAAT,CACC,CAACC,CAAD,EAAIC,CAAJ,KAAU,IAAIC,IAAJ,CAASD,CAAC,CAACE,OAAX,IAAsB,IAAID,IAAJ,CAASF,CAAC,CAACG,OAAX,CADjC,CADU,CAAX;AAKA,KAVD;AAWA,GAZD,EAYG,EAZH;;AAcA,QAAMC,WAAW,GAAIC,IAAD,IAClB,8BAA6BA,IAAK,gBADpC;;AAGA,QAAMC,WAAW,GAAID,IAAD,IAAW,iCAAgCA,IAAK,EAApE;;AAEA,sBACC,QAAC,KAAD,CAAO,QAAP;AAAA,4BACC,QAAC,iBAAD;AAAmB,MAAA,UAAU,MAA7B;AAA8B,MAAA,MAAM,EAAE,CAACd,QAAQ,CAACgB,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAKEhB,QAAQ,CAACgB,MAAT,iBACA,QAAC,KAAD,CAAO,QAAP;AAAA,8BACC,QAAC,MAAD;AAAA,+BACC,QAAC,KAAD;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,MAAM,EAAE;AAAA,gBAAC;AAAEF,cAAAA;AAAF,aAAD;AAAA,gCACP,QAAC,cAAD;AACC,cAAA,GAAG,EAAEA,IADN;AAEC,cAAA,OAAO,EAAE,MAAMV,eAAe,CAAC,IAAD;AAF/B;AAAA;AAAA;AAAA;AAAA,oBADO;AAAA;AAFT;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAYC,QAAC,OAAD;AAAS,QAAA,OAAO,MAAhB;AAAA,+BACC,QAAC,OAAD;AAAS,UAAA,MAAM,MAAf;AAAA,kCACC,QAAC,OAAD,CAAS,KAAT;AAAA,sBAAgBL,YAAY,CAACkB;AAA7B;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC,QAAC,OAAD,CAAS,KAAT;AACC,YAAA,GAAG,EACFC,OAAO,CAAC,uCAAD;AAA0C;;AAFnD;AAAA;AAAA;AAAA;AAAA,kBAFD,eAOC,QAAC,OAAD,CAAS,IAAT;AAAA,oCACC,QAAC,SAAD;AAAA,wBACEtB,SAAS,CAACG,YAAY,CAACoB,IAAd,EAAoB,GAApB;AADX;AAAA;AAAA;AAAA;AAAA,oBADD,eAIC,QAAC,MAAD;AACC,cAAA,IAAI,EAAC,OADN;AAEC,cAAA,KAAK,EAAC,MAFP;AAGC,cAAA,OAAO,EAAE,MACRf,eAAe,CACdW,WAAW,CAAChB,YAAY,CAACe,IAAd,CADG,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAZD,eAsCC,QAAC,OAAD;AAAS,QAAA,OAAO,MAAhB;AAAA,gCACC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAMC,QAAC,MAAD;AACC,UAAA,QAAQ,MADT;AAEC,UAAA,MAAM,MAFP;AAGC,UAAA,OAAO,EAAE;AACRM,YAAAA,KAAK,EAAE,CACN;AACCC,cAAAA,KAAK,EAAE,gBADR;AAECC,cAAAA,IAAI,EAAE;AAFP,aADM,EAKN;AACCD,cAAAA,KAAK,EAAE,SADR;AAECC,cAAAA,IAAI,EAAE;AAFP,aALM;AADC,WAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAND;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCD,eA+DC,QAAC,OAAD;AAAS,QAAA,OAAO,MAAhB;AAAA,+BACC,QAAC,OAAD;AACC,UAAA,MAAM,EAAEtB,QAAQ,CAACuB,GAAT,CAAa;AAAA,gBAAC;AAAEN,cAAAA,KAAF;AAASH,cAAAA;AAAT,aAAD;AAAA,mBAAsB;AAC1CG,cAAAA,KAD0C;AAE1CO,cAAAA,MAAM,EAAE;AACPC,gBAAAA,IAAI,EAAE,mBADC;AAEPC,gBAAAA,IAAI,EAAE,OAFC;AAGPC,gBAAAA,OAAO,EAAE,MACRvB,eAAe,CAACW,WAAW,CAACD,IAAD,CAAZ;AAJT,eAFkC;AAQ1Cc,cAAAA,KAAK,EAAE,CACNV,OAAO,CAAC,iCAAD,CADD,EAENA,OAAO,CAAC,8BAAD,CAFD,EAGNA,OAAO,CAAC,iCAAD,CAHD,EAINA,OAAO,CAAC,8BAAD,CAJD,EAKLW,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CALK,CARmC,CAaR;;AAbQ,aAAtB;AAAA,WAAb;AADT;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cA/DD;AAAA;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA6FA,CAtHD;AAAA,UACkB7C,WADlB;AAAA","sourcesContent":["import { Route, Router, useNavigate } from \"react-router-dom\";\n\nimport ActivityIndicator from \"../../components/ActivityIndicator\";\nimport Button from \"../../components/Button\";\nimport Feature from \"../../components/Feature\";\nimport Lattice from \"../../components/Lattice\";\nimport { Paragraph } from \"../../components/Text\";\nimport React from \"react\";\nimport Section from \"../../components/Section\";\nimport Strapline from \"../../components/Strapline\";\nimport VideoSpotlight from \"../../components/VideoSpotlight\";\nimport ellipsize from \"ellipsize\";\nimport getEpisodes from \"../../api/getEpisodes\";\n\nexport default () => {\n\tconst navigate = useNavigate();\n\n\tconst [[firstEpisode, ...episodes], setEpisodes] = React.useState([]);\n\tconst [videoPreview, setVideoPreview] = React.useState(null);\n\n\tReact.useEffect(() => {\n\t\t(async function () {\n\t\t\tlet episodes = await getEpisodes();\n\n\t\t\tconsole.log({ episodes });\n\n\t\t\tsetEpisodes(\n\t\t\t\tepisodes.sort(\n\t\t\t\t\t(a, b) => new Date(b.pubDate) - new Date(a.pubDate)\n\t\t\t\t)\n\t\t\t);\n\t\t})();\n\t}, []);\n\n\tconst ytidToImage = (ytid) =>\n\t\t`https://img.youtube.com/vi/${ytid}/hqdefault.jpg`;\n\n\tconst ytidToVideo = (ytid) => `https://www.youtube.com/embed/${ytid}`;\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<ActivityIndicator fullScreen active={!episodes.length}>\n\t\t\t\tLoading podcasts...\n\t\t\t</ActivityIndicator>\n\n\t\t\t{episodes.length && (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/:ytid\"\n\t\t\t\t\t\t\trender={({ ytid }) => (\n\t\t\t\t\t\t\t\t<VideoSpotlight\n\t\t\t\t\t\t\t\t\tsrc={ytid}\n\t\t\t\t\t\t\t\t\tonClose={() => setVideoPreview(null)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Router>\n\t\t\t\t\t<Section explode>\n\t\t\t\t\t\t<Feature invert>\n\t\t\t\t\t\t\t<Feature.Title>{firstEpisode.title}</Feature.Title>\n\t\t\t\t\t\t\t<Feature.Image\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\trequire(\"../../assets/faces/marshall-large.jpg\") /*ytidToImage(firstEpisode.ytid)*/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Feature.Body>\n\t\t\t\t\t\t\t\t<Paragraph>\n\t\t\t\t\t\t\t\t\t{ellipsize(firstEpisode.desc, 120)}\n\t\t\t\t\t\t\t\t</Paragraph>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon=\"video\"\n\t\t\t\t\t\t\t\t\ttheme=\"grey\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetVideoPreview(\n\t\t\t\t\t\t\t\t\t\t\tytidToVideo(firstEpisode.ytid)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tWatch a highlight\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Feature.Body>\n\t\t\t\t\t\t</Feature>\n\t\t\t\t\t</Section>\n\t\t\t\t\t<Section deflate>\n\t\t\t\t\t\t<Strapline>\n\t\t\t\t\t\t\tOn the Christian Heritage London podcast we meet\n\t\t\t\t\t\t\tChristian leaders who serve the church in the\n\t\t\t\t\t\t\tpurpose, perspective and power of the gospel.\n\t\t\t\t\t\t</Strapline>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdropdown\n\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: \"Apple Podcasts\",\n\t\t\t\t\t\t\t\t\t\thref: \"https://podcasts.apple.com/gb/podcast/christian-heritage-london-podcast/id1232042916\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: \"Spotify\",\n\t\t\t\t\t\t\t\t\t\thref: \"https://podcasts.apple.com/gb/podcast/christian-heritage-london-podcast/id1232042916\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Section>\n\t\t\t\t\t<Section explode>\n\t\t\t\t\t\t<Lattice\n\t\t\t\t\t\t\tpanels={episodes.map(({ title, ytid }) => ({\n\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\t\t\ttext: \"Watch a highlight\",\n\t\t\t\t\t\t\t\t\ticon: \"video\",\n\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\tsetVideoPreview(ytidToVideo(ytid)),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\timage: [\n\t\t\t\t\t\t\t\t\trequire(\"../../assets/faces/leithart.jpg\"),\n\t\t\t\t\t\t\t\t\trequire(\"../../assets/faces/lucas.jpg\"),\n\t\t\t\t\t\t\t\t\trequire(\"../../assets/faces/marshall.jpg\"),\n\t\t\t\t\t\t\t\t\trequire(\"../../assets/faces/clark.jpg\"),\n\t\t\t\t\t\t\t\t][Math.floor(Math.random() * 4)], //ytidToImage(ytid),\n\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Section>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}